{% extends "layout/index.html" %} {% block content %}

<div class="py-5 text-center">
  <h2>Voting For {{ nomination_category.category_name }}</h2>
  <p class="text-muted">
    We are people with utmost respect and integrity, we value your vote and it is our duty to ensure that your vote is counted. Only one vote per category is allowed, and you can only vote once. (Soon you will be voting multiple times a day). Only Admins can view the results. Thank you for voting with us.
  </p>
</div>

<!-- Add this part to display error messages -->
{% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div {% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
<!-- End of error messages display -->


<form
  action="{% url 'polls:nominee_vote' nomination_category.id %}"
  method="post"
  class="card p-2"
>
  {% csrf_token %}

  
  <fieldset>
    <legend>
      {{ nomination_category.category_name }}
    </legend>
    <p class="text-muted">{{ nomination_category.description }}</p>

    <h2>Nominees:</h2>
    <div class="form-group">
      {% for nominee in nominees %}
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          name="nominee"
          id="nominee{{ forloop.counter }}"
          value="{{ nominee.id }}"
          required
        />
        <label class="form-check-label" for="nominee{{ forloop.counter }}"
          >{{ nominee.nominee_name }}</label
        >
      </div>
      {% empty %}
      <p class="alert alert-warning">No nominees in this category.</p>
      {% endfor %}
    </div>
  </fieldset>

  <button type="submit" class="btn btn-outline-success">Vote</button>
</form>
{% endblock %}
